{{ define "main" }}

<!-- ==================== ABOUT ==================== -->
<section id="about" class="section">
  <div class="profile-row">
    <div class="profile-photo">
      {{ with .Site.Params.profileImage }}
      <img src="{{ . | relURL }}" alt="{{ $.Site.Params.author }}">
      {{ end }}
    </div>
    <div class="profile-bio">
      <h2>{{ .Site.Params.author }}</h2>
      <p class="role">{{ .Site.Params.description }}</p>
      <div class="social-links">
        {{ with .Site.Params.email }}<a href="mailto:{{ . }}" title="Email">‚úâÔ∏è Email</a>{{ end }}
        {{ with .Site.Params.scholar }}<a href="{{ . }}" title="Google Scholar">üéì Scholar</a>{{ end }}
        {{ with .Site.Params.github }}<a href="{{ . }}" title="GitHub">üíª GitHub</a>{{ end }}
      </div>
    </div>
  </div>

  <div class="about-content">
    {{ .Content }}
  </div>
</section>

<!-- ==================== TALKS & TRAVEL ==================== -->
<section id="talks" class="section">
  <h2 class="section-title">Talks & Travel</h2>
  <p>Travel plans and topics for talks with an asterisk* are tentative. If I'm travelling near you and want to meet, contact me!</p>

  {{ $talks_data := getJSON "data/cv.json" }}

  <!-- Tab buttons -->
  <div class="tab-buttons">
    <button class="tab-btn active" data-tab="upcoming">Upcoming</button>
    <button class="tab-btn" data-tab="past-travel">Past</button>
  </div>

  <!-- Upcoming -->
  <div class="tab-content active" id="tab-upcoming">
    {{ with $talks_data.conferences }}
      {{ range . }}
        {{ if eq .tags "Current" }}
        <div class="travel-item">
          <div class="travel-date">{{ .date }}{{ with .date_end }} ‚Äî {{ . }}{{ end }}</div>
          <div class="travel-info">
            {{ if and .url (ne .url "#") }}
              <a href="{{ .url }}" class="travel-title">{{ .title }}</a>
            {{ else }}
              <span class="travel-title">{{ .title }}</span>
            {{ end }}
            <span class="travel-location">{{ .location }}</span>
          </div>
        </div>
        {{ end }}
      {{ end }}
    {{ end }}
  </div>

  <!-- Past -->
  <div class="tab-content" id="tab-past-travel">
    {{ with $talks_data.conferences }}
      {{ range . }}
        {{ if eq .tags "Past" }}
        <div class="travel-item">
          <div class="travel-date">{{ .date }}{{ with .date_end }} ‚Äî {{ . }}{{ end }}</div>
          <div class="travel-info">
            {{ if and .url (ne .url "#") }}
              <a href="{{ .url }}" class="travel-title">{{ .title }}</a>
            {{ else }}
              <span class="travel-title">{{ .title }}</span>
            {{ end }}
            <span class="travel-location">{{ .location }}</span>
          </div>
        </div>
        {{ end }}
      {{ end }}
    {{ end }}
  </div>
</section>

<!-- ==================== PUBLICATIONS ==================== -->
<section id="publications" class="section">
  <h2 class="section-title">Publications and Preprints</h2>

  {{ with $talks_data.publications }}
    {{ range . }}
    <div class="pub-item">
      <h3 class="pub-title">
        {{ if .arxiv_url }}<a href="{{ .arxiv_url }}">{{ .title }}</a>{{ else }}{{ .title }}{{ end }}
      </h3>
      <p class="pub-authors">{{ .authors }}</p>
      <p class="pub-venue">{{ .journal }}</p>
      {{ with .description }}<p class="pub-desc">{{ . }}</p>{{ end }}
      <div class="pub-links">
        {{ with .arxiv_url }}<a href="{{ . }}">arXiv</a>{{ end }}
        {{ with .pdf_url }}<a href="{{ . }}">PDF</a>{{ end }}
      </div>
    </div>
    {{ end }}
  {{ end }}
</section>

<!-- ==================== TEACHING ==================== -->
<section id="teaching" class="section">
  <h2 class="section-title">Teaching</h2>
  <p>Current and past classes.</p>

  <div class="tab-buttons">
    <button class="tab-btn active" data-tab="current-teaching">Current</button>
    <button class="tab-btn" data-tab="past-teaching">Past</button>
  </div>

  <div class="tab-content active" id="tab-current-teaching">
    <div class="teaching-item">
      <h3>NYU Center for Data Science</h3>
      <p class="teaching-role">CDS Faculty Fellow, 2026‚Äìpresent</p>
    </div>
  </div>

  <div class="tab-content" id="tab-past-teaching">
    <div class="teaching-item">
      <h3>Formalizing Mathematics in Lean</h3>
      <p class="teaching-role">Main Instructor ‚Äî ETH Zurich, Spring 2025</p>
      <p>Computer-assisted verification of mathematics using the Lean proof assistant.</p>
    </div>
    <div class="teaching-item">
      <h3>Differential Geometry</h3>
      <p class="teaching-role">Teaching Assistant ‚Äî ETH Zurich, Spring 2024</p>
    </div>
    <div class="teaching-item">
      <h3>UCLA Teaching Assistant</h3>
      <p class="teaching-role">Teaching Assistant ‚Äî UCLA, 2020‚Äì2022</p>
      <p>Math 131A (Real Analysis), Math 134 (ODEs), Math 135 (ODEs/PDEs), Math 33B (Linear Algebra II), Math 32A/B (Calculus).</p>
    </div>
  </div>
</section>

<!-- ==================== CONTACT ==================== -->
<section id="contact" class="section">
  <h2 class="section-title">Contact</h2>
  <div class="contact-info">
    <p>üìß jdedios@nyu.edu</p>
    <p>üìç NYU Center for Data Science, 60 5th Ave, New York, NY 10011</p>
  </div>
</section>

<!-- Tab switching JS -->
<script>
document.querySelectorAll('.tab-btn').forEach(function(btn) {
  btn.addEventListener('click', function() {
    var parent = this.closest('.section');
    parent.querySelectorAll('.tab-btn').forEach(function(b) { b.classList.remove('active'); });
    parent.querySelectorAll('.tab-content').forEach(function(c) { c.classList.remove('active'); });
    this.classList.add('active');
    document.getElementById('tab-' + this.dataset.tab).classList.add('active');
  });
});
</script>

{{ end }}
